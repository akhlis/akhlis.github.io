{"data":{"doc":{"path":"/docs/assets-scripts","title":"Add External Scripts","content":"<h1 id=\"add-external-scripts\"><a href=\"#add-external-scripts\" aria-hidden=\"true\">#</a>Add External Scripts</h1>\n<p>It is really easy to use any external javascript with gridsome. Being a Vue based framework any method of importing external scripts in vue works out of the box with Gridsome</p>\n<h2 id=\"add-to-components\"><a href=\"#add-to-components\" aria-hidden=\"true\">#</a>Add to Components</h2>\n<h3 id=\"using-an-external-vue-plugin\"><a href=\"#using-an-external-vue-plugin\" aria-hidden=\"true\">#</a>Using an external Vue Plugin</h3>\n<p>If you want to use external Vue plugins inside your component without defining it globally you can do so by importing it inside your component and registering it for your component.</p>\n<p>Example:</p>\n<pre class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Carousel</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Slide</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Slide</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Carousel</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Carousel<span class=\"token punctuation\">,</span>Slide<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-carousel'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* data properties here */</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  components<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    Carousel<span class=\"token punctuation\">,</span>\n    Slide\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre>\n<h3 id=\"using-an-external-library\"><a href=\"#using-an-external-library\" aria-hidden=\"true\">#</a>Using an external library</h3>\n<p>If you want to use a external javascript library inside your component you can do so by importing the component and requiring it once vue components are mounted.</p>\n<p>Example:</p>\n<pre class=\"language-html\">//MyComponent.vue\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>theTime<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    {{ theTime }}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      theTime<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>theTime <span class=\"token operator\">=</span> <span class=\"token string\">'The time is '</span> <span class=\"token operator\">+</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HH:mm\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre>\n<h2 id=\"add-globally\"><a href=\"#add-globally\" aria-hidden=\"true\">#</a>Add globally</h2>\n<p>If you want scripts to be globally available you usually add them to <code class=\"language-text\">src/main.js</code>.</p>\n<p><strong>Note:</strong> Avoid injecting dependencies globally, and use it only if really necessary. Injecting locally into components is considered a better practice for code splitting.</p>\n<h3 id=\"using-an-external-vue-plugin-1\"><a href=\"#using-an-external-vue-plugin-1\" aria-hidden=\"true\">#</a>Using an external Vue Plugin</h3>\n<p>To use any external vue plugin with gridsome. Just import the required plugin and pass the required plugin to Vue using the following function <code class=\"language-text\">Vue.use</code> inside your main.js file</p>\n<p>Example:</p>\n<pre class=\"language-javascript\"><span class=\"token comment\">//main.js </span>\n\n<span class=\"token keyword\">import</span> DefaultLayout <span class=\"token keyword\">from</span> <span class=\"token string\">'~/layouts/Default.vue'</span>\n<span class=\"token keyword\">import</span> VueTypedJs <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-typed-js'</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Vue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Set default layout as a global component</span>\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Layout'</span><span class=\"token punctuation\">,</span> DefaultLayout<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">//Use VueTypedJs plugin inside our project</span>\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>VueTypedJs<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span></pre>\n<p>In this example we are importing <code class=\"language-text\">VueTypedJs</code> plugin inside our gridsome project</p>\n<h3 id=\"using-an-external-library-1\"><a href=\"#using-an-external-library-1\" aria-hidden=\"true\">#</a>Using an external library</h3>\n<p>To use any external library on our gridsome project you may  proxy it to a property of the Vue prototype object. Since all components inherit their methods from the Vue prototype object this will make your external automatically available across any and all components with no global variables or anything to manually import.</p>\n<p>Example:</p>\n<pre class=\"language-javascript\"><span class=\"token comment\">//main.js</span>\n\n<span class=\"token keyword\">import</span> DefaultLayout <span class=\"token keyword\">from</span> <span class=\"token string\">'~/layouts/Default.vue'</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Vue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Set default layout as a global component</span>\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Layout'</span><span class=\"token punctuation\">,</span> DefaultLayout<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">//Use Moment.Js library inside our project</span>\n  Vue<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>$moment <span class=\"token operator\">=</span> moment\n<span class=\"token punctuation\">}</span></pre>\n<p>In this example we have imported moment.js library into our project, now you may use the library in any page </p>\n<pre class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The time is '</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HH:mm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></pre>\n<p>Note: You could do it this way, but by using Object.defineProperty instead we are able to define our property with a descriptor. A descriptor allows us to set some low-level details such as whether or not our property is writable and whether it shows up during enumeration in a for loop and more. It gives us a distinct advantage that properties created with a descriptor are read-only by default.</p>\n<p>Some coffee-deprived developer won't be able to do something silly like this in a component and break everything:</p>\n<pre class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$http <span class=\"token operator\">=</span> <span class=\"token string\">'Assign some random thing to the instance method'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$http<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// TypeError: this.$http.get is not a function</span></pre>\n<p>Instead, our read-only instance method protects our library, and if you attempt to overwrite it you will get \"TypeError: Cannot assign to read only property\".</p>\n<p>So you can proxy your library to VuePrototype using Object.defineProperty in following way:</p>\n<pre class=\"language-javascript\"><span class=\"token comment\">//src/main.js</span>\n\n<span class=\"token keyword\">import</span> DefaultLayout <span class=\"token keyword\">from</span> <span class=\"token string\">'~/layouts/Default.vue'</span>\n<span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Vue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Set default layout as a global component</span>\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Layout'</span><span class=\"token punctuation\">,</span> DefaultLayout<span class=\"token punctuation\">)</span>\n  \n  <span class=\"token comment\">//Use Moment.Js library inside our project</span>\n  Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>Vue<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token string\">'$moment'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    value<span class=\"token punctuation\">:</span> moment\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></pre>\n<h2 id=\"without-ssr-support\"><a href=\"#without-ssr-support\" aria-hidden=\"true\">#</a>Without SSR support</h2>\n<p>While <code class=\"language-text\">gridsome build</code> gridsome uses server side rendering to create a fully rendered page. So if your Vue component does not support SSR or your external library like <code class=\"language-text\">jquery</code> changes the dom element it won't be rendered properly. For these type of component we suggest you to bind the component inside <code class=\"language-text\">&lt;ClientOnly&gt;&lt;/ClientOnly&gt;</code> tag and import library inside vue's <code class=\"language-text\">mounted()</code> function.\nFor Example to use <code class=\"language-text\">Vue-carousel</code> that does not yet support SSR you can do the following</p>\n<pre class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ClientOnly</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>carousel</span> <span class=\"token attr-name\">:perPage</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slide</span><span class=\"token punctuation\">></span></span>\n          Hello World\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>slide</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slide</span><span class=\"token punctuation\">></span></span>\n          Gridsome is awesome\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>slide</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>carousel</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ClientOnly</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Index'</span><span class=\"token punctuation\">,</span>\n    components<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Carousel<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'vue-carousel'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>m <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>Carousel<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      Slide<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'vue-carousel'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>m <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>Slide<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre>\n<p>This will stop SSR from rendering the component, and component is displayed after the vue components are mounted.</p>\n<p>Same way you can use any external library that causes issue in server side rendering like <code class=\"language-text\">jquery</code></p>\n<pre class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>landing-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n  <span class=\"token comment\">// import $ from 'jquery'; //import it inside main.js</span>\n  \n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Index'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//require our external library and load it in window</span>\n      window<span class=\"token punctuation\">.</span>owl <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'owl-carousel'</span><span class=\"token punctuation\">)</span>\n      window<span class=\"token punctuation\">.</span>$ <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jquery'</span><span class=\"token punctuation\">)</span>\n  \n      <span class=\"token comment\">// This works now</span>\n      <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.some-carousel'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">owlCarousel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre>\n<p>Note: You should avoid using external library like <code class=\"language-text\">jquery</code> that manipulates the DOM and try using a Vue Plugin instead.</p>\n","headings":[{"value":"Add External Scripts"}],"subtitles":[{"value":"Add to Components","anchor":"#add-to-components"},{"value":"Add globally","anchor":"#add-globally"},{"value":"Without SSR support","anchor":"#without-ssr-support"}]}},"context":{}}