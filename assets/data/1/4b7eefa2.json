{"data":{"doc":{"path":"/docs/guide-netlify-cms","title":"Gridsome Netlify CMS Guide","content":"<h1 id=\"gridsome-netlify-cms-guide\"><a href=\"#gridsome-netlify-cms-guide\" aria-hidden=\"true\">#</a>Gridsome Netlify CMS Guide</h1>\n<h2 id=\"prerequisites\"><a href=\"#prerequisites\" aria-hidden=\"true\">#</a>Prerequisites</h2>\n<p>We assume you've worked with <code class=\"language-text\">@gridsome/source-filesystem</code> and <code class=\"language-text\">@gridsome/transformer-remark</code> before this guide.</p>\n<p>Gridsome requires <strong>Node.js</strong> and recommends <strong>Yarn</strong>. <a href=\"https://gridsome.org/docs/prerequisites\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How to setup</a></p>\n<h2 id=\"1-create-a-gridsome-project\"><a href=\"#1-create-a-gridsome-project\" aria-hidden=\"true\">#</a>1. Create a Gridsome project</h2>\n<ol>\n<li><code class=\"language-text\">gridsome create my-gridsome-site</code> to create a new project</li>\n<li><code class=\"language-text\">cd my-gridsome-site</code> to open folder</li>\n<li><code class=\"language-text\">gridsome develop</code> to start local development server</li>\n</ol>\n<h2 id=\"2-install-the-required-dependencies\"><a href=\"#2-install-the-required-dependencies\" aria-hidden=\"true\">#</a>2. Install the required dependencies</h2>\n<p>Gridsome already provides you a set of <a href=\"https://gridsome.org/plugins\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">plugins</a> to get you started.</p>\n<ul>\n<li><code class=\"language-text\">yarn add netlify-cms gridsome-plugin-netlify-cms @gridsome/source-filesystem @gridsome/transformer-remark</code> to install the required dependencies</li>\n<li><code class=\"language-text\">npm add netlify-cms gridsome-plugin-netlify-cms @gridsome/source-filesystem @gridsome/transformer-remark</code></li>\n</ul>\n<h2 id=\"3-configuration\"><a href=\"#3-configuration\" aria-hidden=\"true\">#</a>3. Configuration</h2>\n<p>Alright, the plugins are installed, it's now time to setup the right configuration. Open the <code class=\"language-text\">gridsome.config.js</code> file and make sure it looks like this:</p>\n<pre class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteName<span class=\"token punctuation\">:</span> <span class=\"token string\">'Gridsome'</span><span class=\"token punctuation\">,</span>\n  transformers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    remark<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      externalLinksTarget<span class=\"token punctuation\">:</span> <span class=\"token string\">'_blank'</span><span class=\"token punctuation\">,</span>\n      externalLinksRel<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'nofollow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'noopener'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'noreferrer'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      anchorClassName<span class=\"token punctuation\">:</span> <span class=\"token string\">'icon icon-link'</span><span class=\"token punctuation\">,</span>\n      plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token comment\">// ...global plugins</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      use<span class=\"token punctuation\">:</span> <span class=\"token string\">'@gridsome/source-filesystem'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token string\">'posts/**/*.md'</span><span class=\"token punctuation\">,</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">'Post'</span><span class=\"token punctuation\">,</span>\n        remark<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token comment\">// ...local plugins</span>\n          <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      use<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gridsome-plugin-netlify-cms`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        publicPath<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`/admin`</span></span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></pre>\n<p>Please read <a href=\"https://gridsome.org/plugins/gridsome-plugin-netlify-cms\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gridsome-plugin-netlify-cms</a>, <a href=\"https://gridsome.org/plugins/@gridsome/transformer-remark\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">transformer-remark</a> for more information about the configurations.</p>\n<h2 id=\"4-netlify-cms-setup\"><a href=\"#4-netlify-cms-setup\" aria-hidden=\"true\">#</a>4. Netlify CMS setup</h2>\n<p>It's time to add the CMS!</p>\n<ol>\n<li>Create an <code class=\"language-text\">admin</code> directory inside the <code class=\"language-text\">src</code></li>\n<li>Create an <code class=\"language-text\">uploads</code> directory inside the root of your project</li>\n<li>Add <code class=\"language-text\">index.html</code>, <code class=\"language-text\">index.js</code> and a <code class=\"language-text\">config.yml</code> file to your <code class=\"language-text\">admin</code> directory</li>\n</ol>\n<p>Your <code class=\"language-text\">index.html</code> should look like this:</p>\n<pre class=\"language-html\"><span class=\"token doctype\">&lt;!doctype html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Netlify CMS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>index.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre>\n<p>Your <code class=\"language-text\">index.js</code> should look like this:</p>\n<pre class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token constant\">CMS</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"netlify-cms\"</span></pre>\n<p>Your <code class=\"language-text\">config.yml</code> should look like this:</p>\n<pre class=\"language-yml\">backend:\n  name: github\n  repo: your_name/repo_name\n\nmedia_folder: \"static/uploads\"\npublic_folder: \"/uploads\"\n\ncollections:\n  - name: \"posts\"\n    label: \"Posts\"\n    folder: \"posts\"\n    create: true\n    slug: \"{{slug}}\"\n    fields:\n      - {label: \"Title\", name: \"title\", widget: \"string\"}\n      - {label: \"Excerpt\", name: \"excerpt\", widget: \"string\"}\n      - {label: \"Publish Date\", name: \"date\", widget: \"date\"}\n      - {label: \"Body\", name: \"body\", widget: \"markdown\"}</pre>\n<h2 id=\"5-netlify-cms-authentication-with-github\"><a href=\"#5-netlify-cms-authentication-with-github\" aria-hidden=\"true\">#</a>5. Netlify CMS authentication with GitHub</h2>\n<p>Before we can start adding posts we'll have to give Netlify access to our Github, this part is <strong>crucial</strong>, please follow the steps closely. More info can be read <a href=\"https://www.netlify.com/docs/authentication-providers/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>;</p>\n<p>Part 1, GitHub:</p>\n<ol>\n<li>Open <a href=\"https://github.com/settings/developers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this</a> link</li>\n<li>Click on \"New OAuth App\"</li>\n<li>Fill in all the fields according to your website and use <code class=\"language-text\">https://api.netlify.com/auth/done</code> as Authorization callback URL</li>\n</ol>\n<p>Part 2, Netlify:</p>\n<ol>\n<li>Go to your Netlify dashboard and click on your project</li>\n<li>Navigate to Settings > Access control > OAuth</li>\n<li>Under Authentication Providers, click Install Provider</li>\n<li>Select GitHub and enter the Client ID and Client Secret, then save (<a href=\"https://auth0.com/docs/connections/social/github#3-get-your-github-app-s-client-id-and-client-secret\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">0Auth Docs - How do I find my GitHub client ID and secret?</a>)</li>\n</ol>\n<h2 id=\"start-coding\"><a href=\"#start-coding\" aria-hidden=\"true\">#</a>Start coding</h2>\n<p>Your basic blog scaffold is done now, you can now query data from the GraphQL server just like you're working with the filesystem. For more info read <a href=\"https://gridsome.org/docs/querying-data\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">querying data</a>.</p>\n","headings":[{"value":"Gridsome Netlify CMS Guide"}],"subtitles":[{"value":"Prerequisites","anchor":"#prerequisites"},{"value":"1. Create a Gridsome project","anchor":"#1-create-a-gridsome-project"},{"value":"2. Install the required dependencies","anchor":"#2-install-the-required-dependencies"},{"value":"3. Configuration","anchor":"#3-configuration"},{"value":"4. Netlify CMS setup","anchor":"#4-netlify-cms-setup"},{"value":"5. Netlify CMS authentication with GitHub","anchor":"#5-netlify-cms-authentication-with-github"},{"value":"Start coding","anchor":"#start-coding"}]}},"context":{}}