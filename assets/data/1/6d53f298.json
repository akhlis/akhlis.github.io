{"data":{"doc":{"path":"/docs/deploy-to-github","title":"Deploy to GitHub pages","content":"<h1 id=\"deploy-to-github-pages\"><a href=\"#deploy-to-github-pages\" aria-hidden=\"true\">#</a>Deploy to GitHub pages</h1>\n<p>GitHub Pages allows you to deploy your site to GitHub's free static site hosting service.</p>\n<p>There's a few steps to complete:</p>\n<ol>\n<li>Install <code class=\"language-text\">gh-pages</code> using <code class=\"language-text\">yarn add gh-pages</code> or <code class=\"language-text\">npm i gh-pages</code></li>\n<li>Add the following to <code class=\"language-text\">gridsome.config.js</code>:</li>\n</ol>\n<pre class=\"language-js\">  siteUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://&lt;your-github-username>.github.io'</span><span class=\"token punctuation\">,</span>\n  pathPrefix<span class=\"token punctuation\">:</span> <span class=\"token string\">'/&lt;your-gridsome-repo-name>'</span><span class=\"token punctuation\">,</span></pre>\n<ol start=\"3\">\n<li>Add the following scripts to your <code class=\"language-text\">package.json</code>:</li>\n</ol>\n<pre class=\"language-json\">  <span class=\"token property\">\"predeploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run build\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gh-pages -d dist\"</span></pre>\n<ol start=\"4\">\n<li>Run the command <code class=\"language-text\">npm run deploy</code></li>\n<li>Go to GitHub's website and make sure your Repo's settings under \"GitHub Pages\" show the <code class=\"language-text\">gh-pages</code> branch under \"Source\".</li>\n</ol>\n<p><strong>Notes</strong></p>\n<p>GitHub Pages allows you to have a \"Github user page\" that acts as a profile/main page on <code class=\"language-text\">&lt;your-github-username&gt;.github.io</code> by having a repo named <code class=\"language-text\">&lt;your-github-username&gt;.github.io</code>.</p>\n<ul>\n<li>\n<p>If you are deploying to your GitHub user page (your main site on <code class=\"language-text\">&lt;username&gt;.github.io</code>):</p>\n<ul>\n<li>\n<p>Make the following adjustments to your <code class=\"language-text\">package.json</code>:</p>\n<pre class=\"language-json\">- <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gh-pages -d dist\"</span><span class=\"token punctuation\">,</span>\n+ <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gh-pages -b master -d dist\"</span><span class=\"token punctuation\">,</span></pre>\n</li>\n<li>\n<p>And Remove this line from <code class=\"language-text\">gridsome.config.js</code>:</p>\n<pre class=\"language-js\"><span class=\"token operator\">-</span> pathPrefix<span class=\"token punctuation\">:</span> <span class=\"token string\">'/&lt;your-gridsome-repo-name>'</span><span class=\"token punctuation\">,</span></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>If you are using a custom URL such as <code class=\"language-text\">www.yourname.com</code> you will need to change <code class=\"language-text\">gridsome.config.js</code> to:</p>\n<pre class=\"language-js\">siteUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://www.yourname.com'</span><span class=\"token punctuation\">,</span></pre>\n</li>\n<li>\n<p>If you are using an apex domain for your GitHub user page (ie. <code class=\"language-text\">https://yourname.com</code> points to all of your GitHub Pages sites), and your Gridsome project is <em>not</em> your GitHub user page (not on the root <code class=\"language-text\">https://yourname.com</code> page, but a separate repo), then you will need to make sure <code class=\"language-text\">pathPrefix</code> matches your gridsome project's repo name in <code class=\"language-text\">gridsome.config.js</code>:</p>\n<pre class=\"language-js\">pathPrefix<span class=\"token punctuation\">:</span> <span class=\"token string\">'/&lt;your-gridsome-repo-name>'</span><span class=\"token punctuation\">,</span></pre>\n</li>\n</ul>\n","headings":[{"value":"Deploy to GitHub pages"}],"subtitles":[]}},"context":{}}