{"data":{"html":{"path":"/html/fetching-data","title":"Fetching data","content":"<h1 id=\"fetching-data\"><a href=\"#fetching-data\" aria-hidden=\"true\">#</a>Fetching data</h1>\n<p>Fetch content from local files or external APIs and store the data in a local database. A unified GraphQL Data layer lets you extract only the data you need from the database and use it in your Vue.js components.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1260 580' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-51'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-51)' width='1260' height='580' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAdCAYAAAAaeWr3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAIzklEQVRYw%2bVZ2W7jyBXtb8pP5QcGyGOAvAWY1zzkcd4mwQADOM5k7PbEuyXvi/Z9l0iKkqiFoqjt5NwSKdNa7O6BPcAgjT59WVUUyTp3rdufRqMRJpMJxuMx4cvx9vEkMBe4lmf8XsDvnYt0XXf%2bSS7%2bD//M5Z/pdDr/JNpTM/M5rJGL5tCB6cNx0HJGr8L05HQ2Wz7ndwBFAJVPAjwL0OwhjmoNRNoWHomnThf3Zht3TZNobYGJJ95zyN/luj31nJn3ko20r87LeBWv3f%2baStXv5e/6hlef5RPwwgIq/QEeWx2Uual4uYJosYRarwedlqAPhy%2bgKeko0tq0mih/lyZhPgEbXrgcu9MZhpMpRtMppvIRogkPYkMjWpLD9U3P2UTOJg0HvyOolM0W4BFQJQGi8ft0Bj9%2bPsD3/9pFOBaHzg3WuNE6N9wIoO7BIMQKMlZ3zQI2ScP7XbKh4fThERfRGELEVTKFk/sH5FtttS4kvGUF29Ym/m9n61YVtICNBFTaHeTMFrK0hIxuoNixUOLm5MN8yFrBuxaLeKIUC5iOnDXNrZphk3GlTkIrvT4u43H8fHaGz6Ewjm5ucU0SKnQlWRcL%2bRILcKYTEtZVaBCa28dfTv6Bb//2Hb75/u%2b4bBcYp%2bzlPYbT30LAgC6gCGgjVqkiWasjVW8gRnfIccNpaizO%2bXi1hgSRkjGlRuLEBbISAyZj9Hq9jaYZtIAyf6PRslIk%2bOjuHnsXIZw/RZQbivZFvkWAT3TM0nBm5HHXruLaLCPS0fDP0hX%2b8Oc/4k8H3yHa19X8TauCW%2bJzI03Sxs8EuIEYcKk1lXmXB9SQ/Yxy3%2bac/XJusJgTbd0YJpIMnPJnYNuwiW1WIBuzGXht1hQSC1xOO/R7%2bQp/XuT0jRjgE5Do6sj2TWhOD7WhpaBTy3%2bN7%2bDSzMMc2ajai3m557pV5vPd9SzQoUZO6xqu9CbCmkEy3obcd837JXvUBvby4wa0JoemvikYYh7MxMCYhZhpNANZwVvbEsE3EZAkZJMVm0GcUNeDhZSxP1/hOGyWSEDAAqQQmr9TdRGMvOIKrLQCG9/8Fnc2gWm1gpys%2bfprUT5u6Uj3mjT9Bk70nHKHU%2bJsBbKW6hq4MrdYQM8dK%2b3f099vDUETd5R3/vWWOuCBMkRLkGC4SkK328XML5BkbUjTbjnPaLMMbzHgGX1KR1378yLn7nRrAHxJgEGp4aJZ5AZLNP0SwrwWbfsIcSz3rRMQiAHnDZoSY0DRZhxgdZfnXJE%2bXhqOVJDLWr2F9JDhuMR7xBUSXgwIpkHZfLPZhDtaWMLoWodzUcc40Yb7yPk7A7NIm5GMKTRqSUTD9LEF96kJ57CKcaqzqA34TWJNQ5Lsu9ZsPvMI0JChBTx16jhggLtnMJSA%2bF8tg2Nq/VjPKnnIsbjLegzwCBAfFm3GCwUcXt/g55NT/BIO48e9fRwzRdW5rnnFjy8bhJTCMWYBvw5YNWP58Ml4YWVuxMRUs9XmJzWmo8EYxXgW5VQepUQO0etH1DMlSGQcF7oYZ60XBEhsEQTfE%2bemhACJ8DvVmNK8WMK/a0yx9aTCHiHjqNUgAZXNBKg6gAQUqLHHQhH32RwSTIUP%2bQKeOK55EV9k8NovhMQiBpaFao2pUdOg6zoMw0C9XofFWsIadDGKtzDcpwZ%2bKsLeKcCt9xAL3eNi7xhnPx0ivH%2bK2MUDph0H43Qbk1wX1rCHBtNxq9VSzxNZLpdhUo74/ttGEblBSxGwy0365v%2bfegL7jdQSMl4QUH6LANb3pbLafIx5Pq3pKLA4inAuyQ9JEEKQyAhrBJ1EBCtBh1FdnimmKkdtMVuXksUtXBLgHNdg73LzB1WYmTouD85wuLOP9E0MDyfX2PthF%2bn7OFAYYJzpsESewfayisB3A3kP/QDRdh2ZfvN9CJBCSE6BVanGWKktIQVKv48GZYOsCxZzA54F6AIkKL3FBdosrEae37oPTUwNG5NKH7O2ozQ91CwMGh0M9S56tRasCt2jx%2bCYs0gAYwKfaPN9smmLFiaBNfieRMAFdmsxRUAoQIC4wBcRID5%2bWG2oqu6BRKziccOcQO6X36U3nAVEW8pnZ95B6MmEc1pTMWB0o8MlxnfNBW4XcnJnwr1vYnjEIJj3nskDlIr8DKqCTVlgkeJKapMSGGWjEgwjDI5CjoxzLJjWsoDfEJEHijalVje/CouewDjQD1ARn8/q02qCHQiVx8czld4Uxgs5c5/lbLk2e/UcECRALEA2K1o%2bbxaW11IPyJpkB7GCjXWAT8CUWtL9ICfmLWb%2bFXCn08BpbLI01bcKoS85579eCC3S4A01vFON4sTIqdpfMsKhllUuImRIFlBpcL0OmCxd4JglbbrbR5IExJnjIzzlvQY5BUr%2bP2EJ7fcDpDMkm5%2b/0hf4GnxJKSxngQIzgZi/uIOYulyLxkuDtiJJDk1SEq/FgOBhKMpNFBn1w5EoUswAhmqGvA5piEgQ9LOABCrfquZvHGjeo%2byOsgQWrcp5IMFNCuIBGeO6Py%2bQgmgYPAv4FqCyALV5yzP5fiiEX66uF/leGiD08YYvCb85UuW6HmiIuDwFiu9/9OaDz7XnE%2bRHFgpE3ukgN1ygMOp6sFB0uwpyX8Xtb26K%2bnWApD1piGR4LsjwDFCkduXcL00QqQnkWq1zreoXQswESboDvIPVb7H5uRd0yyVG/odHVIsllFm0icwkksil0shSmYVMdjlOxxNI0LqlLb61IVJj1SaNEEGGGy5xLM0QNcfiSOby0i2ilLghGSCqSuHeWk/wQwnwnm22TFzf3CAUDuHo%2bBjZXBaRaBSXV1ecC%2bPw6FCtn52f4/buVs0zPW8%2bDF00DJ6hhyj0bRS5uSJlvjdYXA%2be5wq8V%2b6RTrB0dy5pLcmOtdaA/PDm/q9/R8AFvIDVJxHS2ZEDkRyJn8GxYa7MPa890h2kOSKu8NGa39YV9gskv0hanVvFi57ge/7P0G%2bx8Xf6znUC/Orq1%2bKjA99HECAu8D%2bp6dyB45zGCQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"1260\" alt=\"Fetching data\" data-srcset=\"/assets/static/fetching-data.82a2fbd.3501161.png 480w, /assets/static/fetching-data.cbab2cf.3501161.png 1024w\" data-sizes=\"(max-width: 1260px) 100vw, 1260px\" data-src=\"/assets/static/fetching-data.cbab2cf.3501161.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/fetching-data.cbab2cf.3501161.png\" width=\"1260\" alt=\"Fetching data\"></noscript></p>\n<h2 id=\"use-data-source-plugins\"><a href=\"#use-data-source-plugins\" aria-hidden=\"true\">#</a>Use data source plugins</h2>\n<p>Gridsome data source plugins are added in <code class=\"language-text\">gridsome.config.js</code>. You can find available data source plugins in the <a href=\"/plugins\">Plugins directory</a>.</p>\n<p>Here is an example of the <a href=\"/plugins/@gridsome/source-filesystem\">file-system</a> source added to config:</p>\n<pre class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      use<span class=\"token punctuation\">:</span> <span class=\"token string\">'@gridsome/source-filesystem'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        index<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'README'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token string\">'docs/**/*.md'</span><span class=\"token punctuation\">,</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">'DocPage'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// another data source</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></pre>\n<p><code class=\"language-text\">typeName</code> will be the name of the GraphQL collection and needs to be unique. This example will add a <strong>DocPage</strong> collection.</p>\n<p>Every data source has different options, so take a look at their documentation to learn more.</p>\n<h2 id=\"add-data-from-apis\"><a href=\"#add-data-from-apis\" aria-hidden=\"true\">#</a>Add data from APIs</h2>\n<p>Gridsome adds data to the GraphQL data layer with the <strong>Data store API</strong> and the <code class=\"language-text\">api.loadSource</code> function. To use the API you need a <code class=\"language-text\">gridsome.server.js</code> file in the root folder of your Gridsome project.</p>\n<p>Learn more about the <a href=\"/docs/data-store-api\">Data store API here</a></p>\n<p>A typical <code class=\"language-text\">gridsome.server.js</code> will look something like this:</p>\n<pre class=\"language-js\"><span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>api<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  api<span class=\"token punctuation\">.</span><span class=\"token function\">loadSource</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> store <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.example.com/posts'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> contentType <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">addContentType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">'BlogPosts'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      contentType<span class=\"token punctuation\">.</span><span class=\"token function\">addNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n        title<span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">.</span>title\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></pre>\n<blockquote>\n<p>Data is fetched when starting a development server or start of a production build. You need to restart the server for the changes in <strong>gridsome.server.js</strong> to take effect.</p>\n</blockquote>\n<h2 id=\"add-data-from-local-files\"><a href=\"#add-data-from-local-files\" aria-hidden=\"true\">#</a>Add data from local files</h2>\n<p>..</p>\n<h3 id=\"markdown\"><a href=\"#markdown\" aria-hidden=\"true\">#</a>Markdown</h3>\n<p>..</p>\n<h3 id=\"images\"><a href=\"#images\" aria-hidden=\"true\">#</a>Images</h3>\n<p>..</p>\n<h3 id=\"yaml\"><a href=\"#yaml\" aria-hidden=\"true\">#</a>YAML</h3>\n<p>..</p>\n<h3 id=\"csv\"><a href=\"#csv\" aria-hidden=\"true\">#</a>CSV</h3>\n<p>..</p>\n<h3 id=\"json\"><a href=\"#json\" aria-hidden=\"true\">#</a>JSON</h3>\n","headings":[{"value":"Fetching data"}],"subtitles":[{"value":"Use data source plugins","anchor":"#use-data-source-plugins"},{"value":"Add data from APIs","anchor":"#add-data-from-apis"},{"value":"Add data from local files","anchor":"#add-data-from-local-files"}]}},"context":{}}